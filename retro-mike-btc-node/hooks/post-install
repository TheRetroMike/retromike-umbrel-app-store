#!/usr/bin/env bash
set -euo pipefail

PM="/home/umbrel/umbrel/app-data/retro-mike-miningcore/scripts/pool-manager.sh"
[ -x "${PM}" ] || exit 0

ARGS=( register-bitcoin
  --pool-id "btc"
  --coin "bitcoin"
  --app-id "retro-mike-btc-node"
  --rpc-port "9001"
  --zmq-port "7001"
  --stratum-port "6001"
  --daemon-host "retro-mike-btc-node_node_1"
)

ARGS+=( --getnewaddress-params '[]' )
"${PM}" "${ARGS[@]}"
